@model MiniFB.Models.Entities.User

@{
    ViewBag.Title = "Inställningar - MiniFB";
}

@using (Html.BeginForm()) {
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    
    <div id="profile-setting-wrapper" class="span6">
        @Html.HiddenFor(model => model.ID)
        @Html.HiddenFor(model => model.UserName)

        <div class="editor-label">
            @Html.LabelFor(model => model.FirstName)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.FirstName, new { @class = "span3"  })
            @Html.ValidationMessageFor(model => model.FirstName)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.LastName)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.LastName, new { @class = "span3"  })
            @Html.ValidationMessageFor(model => model.LastName)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Email)
        </div>
        <div class="editor-field">
            @Html.TextBoxFor(model => model.Email, new { @class = "span3"  })
            @Html.ValidationMessageFor(model => model.Email)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.BirthDate)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.BirthDate)
            @Html.ValidationMessageFor(model => model.BirthDate)
        </div>

        <div class="editor-label">
            @Html.LabelFor(model => model.Sex)
        </div>
        <div class="editor-field">
            <div id="test-group" class="btn-group" data-toggle="buttons-radio" data-toggle-name="Sex">
                <input type="hidden" name="Sex" value="@Model.Sex"/>
                <button type="button" class="btn" data-toggle-value="Man">Man</button>
                <button type="button" class="btn" data-toggle-value="Kvinna">Kvinna</button>
            </div>
            @Html.ValidationMessageFor(model => model.Sex)
        </div>

        <p>
            <input type="submit" class="btn btn-success" value="Spara" />
        </p>
    </div>
    <div id="profile-img-wrapper" class="span6">
        <h3>Profilbild</h3>
        <img src="http://placehold.it/300x300" class="img-polaroid">
        <p class="btn">Ladda upp</p>
        <p class="btn btn-danger">Ta bort bilden</p>
    </div>
}

<div id="back-div">
    @Html.ActionLink("Tillbaka", "MyProfile", null, new { @class = "btn" })
</div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}


<!-- Detta är ett test script och det skall läggas i en sepparat .js senare! -->
@Scripts.Render("~/bundles/jquery")
<script>
    $(function () {
        $('div.btn-group[data-toggle-name]').each(function () {
            var group = $(this);
            var form = group.parents('form').eq(0);
            var name = group.attr('data-toggle-name');
            var hidden = $('input[name="' + name + '"]', form);
            $('button', group).each(function () {
                $(this).on('click', function () {
                    hidden.val($(this).data("toggle-value"));
                });
            });
        });
    });
</script>
<!--  Detta är ett test script och det skall läggas i en sepparat .js senare! -->